<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PlatformVerse</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body.dark { background-color: #121212; color: white; }
.nav-tabs .nav-link.active { font-weight: bold; }
.platform-card {
    border-radius: 10px;
    padding: 15px;
    background: #ffffff;
    transition: 0.2s;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
body.dark .platform-card { background: #1e1e1e; color: white; }
.platform-card:hover { transform: scale(1.03); }
.platform-icon { font-size: 32px; margin-right: 10px; }
.analytics-count { font-size: 12px; color: gray; }
</style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg bg-light px-3">
  <a class="navbar-brand fw-bold">PlatformVerse</a>
  <div class="ms-auto d-flex gap-2">
    <button class="btn btn-outline-dark" id="darkModeBtn">Dark Mode</button>
  </div>
</nav>

<!-- SEARCH + SORT -->
<div class="container mt-3">
  <div class="row mb-3">
    <div class="col-md-8">
      <input id="searchInput" class="form-control" placeholder="Search platforms...">
    </div>
    <div class="col-md-4">
      <select id="sortSelect" class="form-select">
        <option value="popularity">Sort by Popularity</option>
        <option value="alpha">Sort Alphabetically</option>
        <option value="country">Sort by Country</option>
      </select>
    </div>
  </div>
</div>

<!-- CATEGORY TABS -->
<div class="container">
  <ul class="nav nav-tabs" id="categoryTabs">
    <li class="nav-item"><a class="nav-link active" data-category="social">Social Media</a></li>
    <li class="nav-item"><a class="nav-link" data-category="shopping">Shopping</a></li>
    <li class="nav-item"><a class="nav-link" data-category="ai">AI Platforms</a></li>
    <li class="nav-item"><a class="nav-link" data-category="music">Music</a></li>
    <li class="nav-item"><a class="nav-link" data-category="movies">Movies & TV</a></li>
    <li class="nav-item"><a class="nav-link" data-category="games">Games</a></li>
    <li class="nav-item"><a class="nav-link" data-category="search">Search Engines</a></li>
    <li class="nav-item"><a class="nav-link" data-category="appstores">App Stores</a></li>
    <li class="nav-item"><a class="nav-link" data-category="sa">üáøüá¶ South Africa</a></li>
  </ul>
</div>

<!-- PLATFORM GRID -->
<div class="container mt-3">
  <div id="platformList" class="row g-3"></div>
</div>

<script>
/* --------------------------
   PLATFORM DATA
---------------------------*/

const platforms = {
  social: [
    { name:"Instagram", country:"USA", popularity:1, icon:"fab fa-instagram", link:"https://instagram.com" },
    { name:"TikTok", country:"China", popularity:2, icon:"fab fa-tiktok", link:"https://tiktok.com" },
    { name:"X (Twitter)", country:"USA", popularity:3, icon:"fab fa-x-twitter", link:"https://x.com" },
    { name:"Facebook", country:"USA", popularity:4, icon:"fab fa-facebook", link:"https://facebook.com" },
    { name:"YouTube", country:"USA", popularity:5, icon:"fab fa-youtube", link:"https://youtube.com" },
    { name:"WhatsApp", country:"USA", popularity:6, icon:"fab fa-whatsapp", link:"https://whatsapp.com" }
  ],
  shopping: [
    { name:"Amazon", country:"Global", popularity:1, icon:"fas fa-shopping-bag", link:"https://amazon.com" },
    { name:"eBay", country:"Global", popularity:2, icon:"fas fa-store", link:"https://ebay.com" }
  ],
  ai: [
    { name:"ChatGPT", country:"USA", popularity:1, icon:"fas fa-robot", link:"https://chat.openai.com" },
    { name:"DALL¬∑E", country:"USA", popularity:2, icon:"fas fa-brain", link:"https://openai.com/dall-e" }
  ],
  music: [
    { name:"Spotify", country:"Global", popularity:1, icon:"fab fa-spotify", link:"https://spotify.com" },
    { name:"Apple Music", country:"USA", popularity:2, icon:"fab fa-apple", link:"https://music.apple.com" }
  ],
  movies: [
    { name:"Netflix", country:"Global", popularity:1, icon:"fas fa-film", link:"https://netflix.com" },
    { name:"Hulu", country:"USA", popularity:2, icon:"fas fa-tv", link:"https://hulu.com" }
  ],
  games: [
    { name:"Steam", country:"Global", popularity:1, icon:"fas fa-gamepad", link:"https://steampowered.com" },
    { name:"Epic Games", country:"USA", popularity:2, icon:"fas fa-gamepad", link:"https://epicgames.com" }
  ],
  search: [
    { name:"Google", country:"USA", popularity:1, icon:"fas fa-magnifying-glass", link:"https://google.com" },
    { name:"Bing", country:"USA", popularity:2, icon:"fas fa-magnifying-glass", link:"https://bing.com" }
  ],
  appstores: [
    { name:"Apple App Store", country:"Global", popularity:1, icon:"fab fa-apple", link:"https://apps.apple.com" },
    { name:"Google Play Store", country:"Global", popularity:2, icon:"fab fa-google-play", link:"https://play.google.com" }
  ],
  sa: [
    { name:"Takealot", country:"South Africa", popularity:1, icon:"fas fa-box", link:"https://takealot.com" },
    { name:"Mr D Food", country:"South Africa", popularity:2, icon:"fas fa-utensils", link:"https://mrdfood.com" },
    { name:"Showmax", country:"South Africa", popularity:3, icon:"fas fa-tv", link:"https://showmax.com" },
    { name:"DStv Stream", country:"South Africa", popularity:4, icon:"fas fa-tv", link:"https://dstv.com" },
    { name:"FNB App", country:"South Africa", popularity:5, icon:"fas fa-university", link:"https://fnb.co.za" },
    { name:"Capitec Bank App", country:"South Africa", popularity:6, icon:"fas fa-university", link:"https://capitecbank.co.za" },
    { name:"Woolworths", country:"South Africa", popularity:7, icon:"fas fa-tshirt", link:"https://www.woolworths.co.za" },
    { name:"Makro", country:"South Africa", popularity:8, icon:"fas fa-shopping-cart", link:"https://makro.co.za" },
    { name:"Checkers Sixty60", country:"South Africa", popularity:9, icon:"fas fa-shopping-basket", link:"https://sixty60.co.za" },
    { name:"Uber Eats SA", country:"South Africa", popularity:10, icon:"fas fa-motorcycle", link:"https://ubereats.com" }
  ]
};

let activeCategory = "social";

/* --------------------------
   RENDER FUNCTION
---------------------------*/
function renderPlatforms() {
  const container = document.getElementById("platformList");
  container.innerHTML = "";
  let list = platforms[activeCategory];
  
  const search = document.getElementById("searchInput").value.toLowerCase();
  list = list.filter(p => p.name.toLowerCase().includes(search));

  const sortType = document.getElementById("sortSelect").value;
  if(sortType==="alpha"){ list.sort((a,b)=>a.name.localeCompare(b.name)); }
  else if(sortType==="country"){ list.sort((a,b)=>a.country.localeCompare(b.country)); }
  else{ list.sort((a,b)=>a.popularity - b.popularity); }

  list.forEach(p=>{
    let clicks = localStorage.getItem("click_"+p.name) || 0;
    container.innerHTML += `
      <div class="col-md-4">
        <div class="platform-card">
          <div><i class="${p.icon} platform-icon"></i><strong>${p.name}</strong><br><small>üåç ${p.country}</small></div>
          <div>
            <span class="analytics-count">Clicks: ${clicks}</span><br>
            <a href="${p.link}" target="_blank" class="btn btn-primary mt-1" onclick="trackClick('${p.name}')">Open</a>
          </div>
        </div>
      </div>
    `;
  });
}

/* --------------------------
   TRACK CLICKS
---------------------------*/
function trackClick(name){
  let clicks = parseInt(localStorage.getItem("click_"+name)||"0")+1;
  localStorage.setItem("click_"+name, clicks);
  renderPlatforms();
}

/* --------------------------
   TAB NAVIGATION
---------------------------*/
document.querySelectorAll("#categoryTabs .nav-link").forEach(tab=>{
  tab.addEventListener("click", ()=>{
    document.querySelectorAll("#categoryTabs .nav-link").forEach(t=>t.classList.remove("active"));
    tab.classList.add("active");
    activeCategory = tab.dataset.category;
    renderPlatforms();
  });
});

/* --------------------------
   SEARCH + SORT
---------------------------*/
document.getElementById("searchInput").addEventListener("input", renderPlatforms);
document.getElementById("sortSelect").addEventListener("change", renderPlatforms);

/* --------------------------
   DARK MODE
---------------------------*/
const darkModeBtn = document.getElementById("darkModeBtn");
if(localStorage.getItem("darkMode") === "true"){ document.body.classList.add("dark"); darkModeBtn.innerText="Light Mode"; }

darkModeBtn.addEventListener("click", ()=>{
  document.body.classList.toggle("dark");
  const isDark = document.body.classList.contains("dark");
  localStorage.setItem("darkMode", isDark);
  darkModeBtn.innerText = isDark ? "Light Mode" : "Dark Mode";
});

/* INIT */
renderPlatforms();
</script>

</body>
</html>
